<div class="ef-accountselect-selection"
     [ngClass]="{'enabled' : !efDisabled, 'disabled' : efDisabled}"
     (click)="showModal()">
    <nz-tag *ngFor="let account of selectedAccounts">{{account.name}}</nz-tag>
</div>
<nz-modal [(nzVisible)]="modalVisible" nzTitle="The first Modal" [nzFooter]="modalFooter">
    <div class="ef-accountselect-selection-tags">
        <nz-tag nzMode="closeable" *ngFor="let account of modalSelectedAccounts; index as i;" (nzAfterClose)="deleteTag(account, i)">{{account.name}}</nz-tag>
    </div>
    <nz-input-group nzSuffixIcon="anticon anticon-search" class="ef-accountselect-selection-search">
        <input type="text" nz-input placeholder="input search text">
    </nz-input-group>
    <ul class="ef-accountselect-selection-list">
        <li class="ef-accountselect-selection-list-item-group" *ngFor="let group of groups">
            <div class="ef-accountselect-selection-list-item-group-title">{{group.name}}</div>
            <ul class="ef-accountselect-selection-list-item-group-list">
                <li *ngFor="let account of group.accounts"
                    class="ef-accountselect-selection-list-item"
                    [ngClass]="{'selected' : account.selected, 'no-selected' : !account.selected}"
                    (click)="clickAccount(account)">{{account.name}}</li>
            </ul>
        </li>
    </ul>
    <ng-template #modalFooter>
        <button nz-button nzType="default" (click)="deselectAll()">Deselect All</button>
        <button nz-button nzType="default" (click)="handleCancel()">Cancel</button>
        <button nz-button nzType="primary" (click)="handleOk()">OK</button>
    </ng-template>
</nz-modal>